<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- ══ GANTI JUDUL: ubah "StreamTube" di sini + di logo <nav> ══ -->
<title>StreamTube</title>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='13' fill='%23111'/%3E%3Cpolygon points='22,14 22,50 50,32' fill='url(%23p)'/%3E%3Cdefs%3E%3ClinearGradient id='p' x1='0' y1='0' x2='0' y2='1'%3E%3Cstop offset='0' stop-color='%23ff2200'/%3E%3Cstop offset='1' stop-color='%23880000'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#0a0a0a;color:#f0f0f0;font-family:Arial,sans-serif}

/* Sembunyikan tombol volume & mute dari kontrol bawaan browser */
#vid::-webkit-media-controls-mute-button,
#vid::-webkit-media-controls-volume-slider,
#vid::-webkit-media-controls-volume-control-container{display:none!important}


nav{background:#111;border-bottom:2px solid #c00;padding:11px 16px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:20}
.logo{font-size:1.2rem;font-weight:900;color:#c00;letter-spacing:-1px}
.logo span{color:#f0f0f0}
.nav-btn{background:#c00;color:#fff;border:none;border-radius:5px;padding:7px 14px;font-size:0.78rem;font-weight:700;cursor:pointer;text-decoration:none}
.nav-btn:hover{opacity:.8}

/* ══ MAIN PLAYER AREA ══ */
.player-area{
  width:100%;
  background:#000;
  position:relative;
  /* Fallback padding trick untuk iOS Safari */
  padding-top:56.25%;
  overflow:hidden;
}
/* Browser modern yang support aspect-ratio, override padding */
@supports(aspect-ratio:16/9){
  .player-area{
    padding-top:0;
    aspect-ratio:16/9;
    max-height:88vh;
  }
}

/* VIDEO — isi penuh container */
#vid{
  position:absolute;inset:0;
  width:100%;height:100%;
  object-fit:fill;
  display:block;
  z-index:1;
}

/* POSTER OVERLAY */
.poster{
  position:absolute;inset:0;
  z-index:10;
  cursor:pointer;
  overflow:hidden;
}
/* Gambar blur di seluruh background */
.poster-blur{
  position:absolute;inset:0;
  background-size:cover;
  background-position:center;
  filter:blur(22px) brightness(.45);
  transform:scale(1.12);
}
/* Gambar bersih di tengah — full width */
.poster-clear{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
/* Tombol play bulat */
.play-btn{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:76px;height:76px;
  background:rgba(255,255,255,.92);
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 24px rgba(0,0,0,.5);
  transition:transform .15s, opacity .15s;
}
.play-btn::after{
  content:'';
  border-style:solid;
  border-width:15px 0 15px 28px;
  border-color:transparent transparent transparent #c00;
  margin-left:7px;
}
.poster:hover .play-btn{transform:translate(-50%,-50%) scale(1.08)}
.poster.hidden{display:none}

/* INFO */
.info{max-width:1200px;margin:0 auto;padding:13px 16px 6px}
.v-title{font-size:1.15rem;font-weight:700;line-height:1.4}
.v-rating{display:flex;align-items:center;gap:6px;margin-top:6px}
.stars{color:#c00;font-size:1rem;letter-spacing:2px}
.score{font-size:0.95rem;font-weight:700}
.v-meta{font-size:0.73rem;color:#555;margin-top:3px}

/* ══ VIDEO LIST ══ */
.list-wrap{max-width:1200px;margin:0 auto;padding:16px}
.list-label{font-size:0.72rem;font-weight:700;color:#c00;text-transform:uppercase;letter-spacing:1px;margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid #1c1c1c}

.vcard{
  display:flex;gap:0;
  background:#141414;border:1px solid #1e1e1e;
  border-radius:9px;overflow:hidden;
  margin-bottom:14px;
}
.vthumb{
  flex-shrink:0;
  width:260px;
  background:#111;
  position:relative;overflow:hidden;
}
.vthumb img{
  width:100%;height:100%;
  object-fit:cover;display:block;
}
.vthumb .vplay{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.25);
}
.vthumb .vplay-icon{
  width:48px;height:48px;
  background:rgba(255,255,255,.15);
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
}
.vthumb .vplay-icon::after{
  content:'';
  border-style:solid;
  border-width:10px 0 10px 18px;
  border-color:transparent transparent transparent rgba(255,255,255,.7);
  margin-left:4px;
}
@media(max-width:580px){
  .vthumb{width:130px}
  .vthumb .vplay-icon{width:34px;height:34px}
  .vthumb .vplay-icon::after{border-width:7px 0 7px 13px}
}
.vinfo{padding:14px 16px;display:flex;flex-direction:column;justify-content:center;gap:6px}
.vtitle{font-size:0.95rem;font-weight:700;line-height:1.4;color:#eee}
.vrating{display:flex;align-items:center;gap:5px}
.vstars{color:#c00;font-size:0.82rem;letter-spacing:1px}
.vscore{font-size:0.82rem;font-weight:700;color:#aaa}
.vmeta{font-size:0.72rem;color:#444}
</style>
</head>
<body>

<nav>
  <!-- GANTI NAMA LOGO: ubah "Stream" dan "Tube" -->
  <div class="logo">Stream<span>Tube</span></div>
  <!-- Ganti href = link tujuan | ganti teks tombol -->
  <a class="nav-btn" href="https://www.google.com" target="_blank">Video Lainnya →</a>
</nav>

<!-- MAIN PLAYER -->
<div class="player-area">
  <video id="vid" controls playsinline webkit-playsinline
         preload="none" controlslist="nodownload noplaybackrate"
         disablepictureinpicture></video>

  <div class="poster" id="poster" onclick="startPlay()">
    <div class="poster-blur" id="posterBg"></div>
    <img class="poster-clear" id="posterImg" src="" alt="">
    <div class="play-btn"></div>
  </div>
</div>

<div class="info">
  <div class="v-title" id="vTitle"></div>
  <div class="v-rating">
    <span class="stars" id="vStars"></span>
    <span class="score" id="vScore"></span>
  </div>
  <div class="v-meta" id="vMeta"></div>
</div>

<div class="list-wrap">
  <div class="list-label">Video Lainnya</div>
  <div id="videoList"></div>
</div>

<script>
// ================================================================
// VIDEO UTAMA
// thumb: "thumb/main.jpg"  ← WAJIB diisi agar blur poster muncul
//        biarkan ""        ← akan coba auto-generate (butuh same-origin)
// ================================================================
const MAIN = {
  title : "SpongeBob SquarePants – Band Geeks",
  meta  : "Nickelodeon · Season 2 · Episode 15",
  rating: 9.3,
  src   : "https://www.w3schools.com/html/mov_bbb.mp4",  // ← GANTI
  thumb : ""  // ← GANTI: "thumb/main.jpg"
};

// ================================================================
// VIDEO LAINNYA — maks 3, hanya tampilan
// ================================================================
const LIST = [
  {
    title : "SpongeBob – Jellyfishing",
    meta  : "Season 1 · Episode 3",
    rating: 8.7,
    src   : "https://www.w3schools.com/html/movie.mp4",   // ← GANTI
    thumb : ""  // ← GANTI: "thumb/ep1.jpg"
  },
  {
    title : "SpongeBob – Chocolate with Nuts",
    meta  : "Season 3 · Episode 11",
    rating: 9.6,
    src   : "https://www.w3schools.com/html/mov_bbb.mp4", // ← GANTI
    thumb : ""  // ← GANTI: "thumb/ep2.jpg"
  },
  {
    title : "Patrick Star – Funniest Moments",
    meta  : "Nickelodeon · Compilation",
    rating: 8.4,
    src   : "https://www.w3schools.com/html/movie.mp4",   // ← GANTI
    thumb : ""  // ← GANTI: "thumb/ep3.jpg"
  }
];
// ================================================================

const PH = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 9'%3E%3Crect width='16' height='9' fill='%231a1a1a'/%3E%3C/svg%3E`;

function stars(r){ const f=Math.round(r/2); return '★'.repeat(f)+'☆'.repeat(5-f); }

// Auto-generate thumbnail via canvas (works only same-origin)
function genThumb(src, cb){
  const t = document.createElement('video');
  t.muted=true; t.preload='metadata'; t.crossOrigin='anonymous';
  t.addEventListener('loadeddata', ()=>{ t.currentTime=3; }, {once:true});
  t.addEventListener('seeked', ()=>{
    try{
      const c=document.createElement('canvas'); c.width=640; c.height=360;
      c.getContext('2d').drawImage(t,0,0,640,360);
      cb(c.toDataURL('image/jpeg',.8));
    }catch(e){ cb(''); }
    t.remove();
  },{once:true});
  t.addEventListener('error', ()=>{ cb(''); t.remove(); },{once:true});
  t.src=src; document.body.appendChild(t); t.load();
}

function setPoster(url){
  const src = url||PH;
  document.getElementById('posterImg').src = src;
  document.getElementById('posterBg').style.backgroundImage = `url("${src}")`;
}

// Init main
const vid = document.getElementById('vid');
vid.src = MAIN.src;

// ── Hilangkan suara sepenuhnya (works on iOS Safari) ──
// Web Audio API: sambungkan ke GainNode 0 tanpa output ke speaker
vid.muted = true;
vid.volume = 0;
function killAudio(){
  try{
    const ac = new (window.AudioContext||window.webkitAudioContext)();
    const src = ac.createMediaElementSource(vid);
    const gain = ac.createGain();
    gain.gain.value = 0;
    src.connect(gain);
    // Tidak connect ke ac.destination → audio tidak keluar
  }catch(e){
    // Fallback sudah ada: muted + volume 0
  }
}
// iOS Safari perlu user gesture untuk AudioContext
vid.addEventListener('play', killAudio, {once:true});

document.getElementById('vTitle').textContent = MAIN.title;
document.getElementById('vStars').textContent = stars(MAIN.rating);
document.getElementById('vScore').textContent = MAIN.rating.toFixed(1);
document.getElementById('vMeta').textContent  = MAIN.meta;

if(MAIN.thumb){ setPoster(MAIN.thumb); }
else { genThumb(MAIN.src, url => setPoster(url)); }

function startPlay(){
  document.getElementById('poster').classList.add('hidden');
  vid.play().catch(()=>{});
}

// Render list
const listEl = document.getElementById('videoList');
listEl.innerHTML = LIST.slice(0,3).map((v,i)=>`
  <div class="vcard">
    <div class="vthumb" id="vt${i}">
      <img src="${v.thumb||PH}" id="vi${i}" alt="${v.title}" style="width:100%;height:100%;object-fit:cover;display:block">
      <div class="vplay"><div class="vplay-icon"></div></div>
    </div>
    <div class="vinfo">
      <div class="vtitle">${v.title}</div>
      <div class="vrating">
        <span class="vstars">${stars(v.rating)}</span>
        <span class="vscore">${v.rating.toFixed(1)}</span>
      </div>
      <div class="vmeta">${v.meta}</div>
    </div>
  </div>
`).join('');

// Load thumbnails
LIST.slice(0,3).forEach((v,i)=>{
  if(v.thumb){ document.getElementById('vi'+i).src=v.thumb; return; }
  genThumb(v.src, url=>{
    const img=document.getElementById('vi'+i);
    if(img && url) img.src=url;
  });
});
</script>
</body>
</html>
